# آرشیو پاپ‌کورن 🍿

یک ابزار کامند لاین ساده و قدرتمند برای مدیریت لیست فیلم‌های شما. دیگر هیچ‌وقت فیلمی را که می‌خواستید ببینید فراموش نکنید!

## ویژگی‌ها

-   **افزودن فیلم**: فیلم‌ها را به صورت دستی به دیتابیس شخصی خود اضافه کنید.
-   **ورود دسته‌جمعی**: فیلم‌ها را از یک فایل CSV وارد کنید.
-   **اسکن پوشه‌ها**: با اسکن کردن پوشه فیلم‌های خود، به طور خودکار آن‌ها را شناسایی و اضافه کنید.
-   **جستجو**: به سرعت بررسی کنید که آیا یک فیلم در آرشیو شما وجود دارد یا نه.
-   **پیشنهاد تصادفی**: برای شب فیلم، یک پیشنهاد فیلم تصادفی دریافت کنید.
-   **فیلتر بر اساس سال/دهه**: تمام فیلم‌های یک سال یا دهه خاص را لیست کنید.
-   **ذخیره‌سازی پایدار**: از یک دیتابیس محلی SQLite برای ذخیره لیست شما استفاده می‌کند.

## نصب

بسته به هدف شما، دو راه برای نصب آرشیو پاپ‌کورن وجود دارد.

### گزینه ۱: به عنوان یک دستور سراسری در سیستم (روش پیشنهادی برای کاربران)

اگر فقط می‌خواهید از برنامه استفاده کنید، بهترین راه نصب آن با `pipx` است. این ابزار برنامه را در یک محیط ایزوله نصب می‌کند اما آن را در کل سیستم شما در دسترس قرار می‌دهد، بدون اینکه نیازی به فعال‌سازی محیط مجازی باشد.

**۱. نصب pipx**
اگر `pipx` را ندارید، ابتدا آن را با استفاده از مدیر بسته سیستم خود نصب کنید. برای مثال:
-   **روی Debian/Ubuntu:** `sudo apt install pipx`
-   **روی Fedora/CentOS:** `sudo dnf install python3-pipx`
-   **روی macOS:** `brew install pipx`

پس از نصب، با اجرای دستور زیر مطمئن شوید که مسیر آن به درستی تنظیم شده است:
```bash
pipx ensurepath
```
*(ممکن است لازم باشد ترمینال خود را یک بار ببندید و باز کنید تا تغییرات اعمال شود.)*

**۲. نصب آرشیو پاپ‌کورن**
مخزن پروژه را کلون کرده و مستقیماً از مسیر محلی با استفاده از `pipx` نصب کنید:

```bash
git clone https://github.com/alefbee/popcorn-archives.git
cd popcorn-archives
pipx install .
```

اکنون دستور `popcorn-archives` آماده استفاده در هر ترمینالی است!

### گزینه ۲: برای توسعه‌دهندگان

اگر قصد دارید کد را تغییر دهید یا در پروژه مشارکت کنید، باید آن را در یک محیط مجازی محلی راه‌اندازی کنید.

**۱. کلون کردن مخزن**
```bash
git clone https://github.com/alefbee/popcorn-archives.git
cd popcorn-archives
```

**۲. ساخت و فعال‌سازی محیط مجازی**
```bash
# یک محیط مجازی به نام .venv بسازید
python3 -m venv .venv

# آن را فعال کنید (در لینوکس/macOS)
source .venv/bin/activate```
> **نکته برای کاربران ویندوز:** از دستور `.venv\Scripts\Activate` در PowerShell استفاده کنید.

**۳. نصب در حالت قابل ویرایش**
این دستور پروژه و وابستگی‌های آن را نصب می‌کند. پرچم `-e` به شما اجازه می‌دهد تغییرات خود را در کد فوراً و بدون نیاز به نصب مجدد مشاهده کنید.
```bash
pip install -e .
```
حالا می‌توانید برنامه را با دستور `popcorn-archives` از داخل همین محیط فعال اجرا کنید.

## نحوه استفاده

استفاده از برنامه بسیار ساده است. در اینجا دستورات موجود را مشاهده می‌کنید:

### افزودن یک فیلم

نام فیلم باید در فرمت `"Title YYYY"` باشد.

```bash
popcorn-archives add "Casablanca 1942"
```

### جستجوی یک فیلم

```bash
popcorn-archives search "Casablanca"
```

### دریافت پیشنهاد تصادفی

```bash
popcorn-archives random
```

### لیست فیلم‌ها بر اساس سال

```bash
popcorn-archives year 1942
```

### لیست فیلم‌ها بر اساس دهه

```bash
popcorn-archives decade 1940
```

### اسکن یک پوشه از فیلم‌ها

اگر پوشه‌ای دارید که شامل زیرپوشه‌هایی مانند `The Godfather 1972` و `Pulp Fiction 1994` است:

```bash
popcorn-archives scan /path/to/movies
```

### وارد کردن از فایل CSV

یک فایل `movies.csv` با هدر `name` ایجاد کنید:

```csv
name
The Shawshank Redemption 1994
Forrest Gump 1994
```

سپس دستور زیر را اجرا کنید:

```bash
popcorn-archives import movies.csv
```